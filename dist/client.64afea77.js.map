{"version":3,"sources":["/Users/arve/git/webcas/client.64afea77.js","/Users/arve/git/webcas/src/index.js"],"names":["webpackJsonp","146","module","exports","__webpack_require__","147","global","_toConsumableArray","arr","Array","isArray","i","arr2","length","from","reducer","state","arguments","undefined","initialState","action","type","Object","assign","steps","focus","slice","num","filter","s","input","f","Step","inputValue","keyDown","event","kc","keyCode","preventDefault","shiftKey","store","dispatch","selectionStart","getState","onClick","keyUp","wasEmpty","value","updateOutput","str","outputSpan","Elm","innerText","output","appendChild","root","inputWithLabel","children","addEventListener","html","div","document","createElement","innerHTML","childNodes","evaluateInput","scope","node","evaluated","math","parse","eval","err","simplify","message","_","toString","_typeof","format","ouput","Symbol","iterator","obj","constructor","prototype","_require","createStore","Vue","VModal","default","use","dialog","_steps","subscribe","getElementById","forEach","step","_step","push","activeElement","el","methods","save","console","log","this","$modal","show","text","open","call"],"mappings":"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","file":"client.64afea77.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 146:\n/*!****************************!*\\\n  !*** multi ./src/index.js ***!\n  \\****************************/\n/*! no static exports found */\n/*! all exports used */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(/*! /Users/arve/git/webcas/src/index.js */147);\n\n\n/***/ }),\n\n/***/ 147:\n/*!**********************!*\\\n  !*** ./src/index.js ***!\n  \\**********************/\n/*! no static exports found */\n/*! all exports used */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar math = __webpack_require__(/*! mathjs */ 148);\n\nvar _require = __webpack_require__(/*! redux */ 527),\n    createStore = _require.createStore;\n\nvar Vue = __webpack_require__(/*! vue/dist/vue.common.js */ 543);\nvar VModal = __webpack_require__(/*! vue-js-modal */ 544).default;\n\nVue.use(VModal, { dialog: true });\n\nglobal.math = math;\n\nvar initialState = {\n  steps: [],\n  focus: 0\n};\n\nfunction reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments[1];\n\n  switch (action.type) {\n    case 'ADD STEP':\n      return Object.assign({}, state, {\n        steps: [].concat(_toConsumableArray(state.steps), ['']),\n        focus: state.steps.length\n      });\n\n    case 'INSERT STEP':\n      return Object.assign({}, state, {\n        steps: [].concat(_toConsumableArray(state.steps.slice(0, action.num)), [''], _toConsumableArray(state.steps.slice(action.num)))\n      });\n\n    case 'REMOVE STEP':\n      return Object.assign({}, state, {\n        steps: state.steps.filter(function (s, i) {\n          return i !== action.num;\n        })\n      });\n\n    case 'STEP INPUT':\n      return Object.assign({}, state, {\n        steps: [].concat(_toConsumableArray(state.steps.slice(0, action.num)), [action.input], _toConsumableArray(state.steps.slice(action.num + 1)))\n      });\n\n    case 'FOCUS':\n      return Object.assign({}, state, { focus: action.num });\n\n    case 'FOCUS DECREMENT':\n      {\n        // add scope to allow `let f = ` inside several cases\n        var f = state.focus - 1;\n        return Object.assign({}, state, {\n          focus: f > 0 ? f : 0\n        });\n      }\n\n    case 'FOCUS INCREMENT':\n      {\n        var _f = state.focus + 1;\n        return Object.assign({}, state, {\n          focus: _f < state.steps.length ? _f : state.focus\n        });\n      }\n\n    default:\n      return state;\n  }\n}\n\nvar store = createStore(reducer);\nglobal.store = store;\n\nvar _steps = []; // keep track of steps in DOM, TODO: react?\nstore.subscribe(function () {\n  var state = store.getState();\n\n  if (state.steps.length !== _steps.length) {\n    // inserted or added steps\n    // -> re-render all steps (we do not know if new step is inserted or added)\n    _steps = [];\n    document.getElementById('steps').innerHTML = '';\n  }\n  state.steps.forEach(function (step, i) {\n    var _step = _steps[i];\n\n    if (!_step) {\n      _step = Step(i, step);\n      _steps.push(_step);\n      document.getElementById('steps').appendChild(_step.root);\n    }\n\n    // calculate\n    // scope can be mutated in math.eval, the mutated scope is saved to current step\n    // first step: create new scope\n    // else: copy previous scope\n    _step.scope = i === 0 ? {} : Object.assign({}, _steps[i - 1].scope);\n    _step.updateOutput(evaluateInput(step, _step.scope));\n\n    if (state.focus === i && !_step.input.activeElement) {\n      _step.input.focus();\n    }\n  });\n});\n\nvar app = new Vue({\n  el: '#container',\n  methods: {\n    save: function save() {\n      console.log('save');\n      this.$modal.show('dialog', {\n        text: 'save'\n      });\n    },\n    open: function open() {\n      console.log('open');\n      this.$modal.show('dialog', {\n        text: 'open'\n      });\n    }\n  }\n});\n\nstore.dispatch({ type: 'ADD STEP' });\n\nfunction Step(num, inputValue) {\n  var root = Elm('<div class=step></div>');\n  var inputWithLabel = Elm('<label>Input <input type=text></label>');\n  var input = inputWithLabel.children[0];\n  var output = Elm('<div class=output>Output</div>');\n\n  input.value = inputValue;\n\n  function keyDown(event) {\n    var kc = event.keyCode;\n    // 9 tab, 13 enter, 38 up, 40 down\n    if (!(kc === 9 || kc === 13 || kc === 38 || kc === 40)) {\n      return;\n    }\n\n    // tab on last field -> avoid address bar\n    // arrows -> avoid going to start/end of input field\n    event.preventDefault();\n\n    if (kc === 38 || event.shiftKey && kc === 9) {\n      // up or tab shift\n      store.dispatch({ type: 'FOCUS DECREMENT' });\n    } else if (kc === 13 && input.selectionStart === 0) {\n      // enter and marker in beginning of input field\n      // -> insert input and shift steps down\n      store.dispatch({ type: 'INSERT STEP', num: num });\n    } else if (kc === 13 && num === store.getState().steps.length - 1) {\n      // enter on last input\n      store.dispatch({ type: 'ADD STEP' });\n    } else if (kc === 9 || kc === 13 || kc === 40) {\n      // tab, enter or down\n      store.dispatch({ type: 'FOCUS INCREMENT' });\n    }\n  }\n\n  function onClick() {\n    store.dispatch({ type: 'FOCUS', num: num });\n  }\n\n  function keyUp(event) {\n    var wasEmpty = store.getState().steps[num] === '';\n\n    store.dispatch({\n      type: 'STEP INPUT',\n      input: input.value,\n      num: num\n    });\n\n    // 8 backspace, 46 delete\n    if (wasEmpty && (event.keyCode === 8 || event.keyCode === 46) && store.getState().steps.length !== 1) {\n      // no value and backspace/delete -> delete step\n      // must be on key up, or else erases character in newly focused field when key released (preventDefault gets nasty)\n      store.dispatch({ type: 'REMOVE STEP', num: num });\n      if (event.keyCode === 8 || store.getState().steps.length === num) {\n        // move focus one up on backspace\n        // keep focus same num on delete (focus to input below deleted input)\n        // if we are in last step and delete it, move focus one up\n        store.dispatch({ type: 'FOCUS DECREMENT' });\n      }\n    }\n  }\n\n  input.addEventListener('keydown', keyDown);\n  input.addEventListener('keyup', keyUp);\n  input.addEventListener('click', onClick);\n\n  root.appendChild(inputWithLabel);\n  root.appendChild(output);\n\n  function updateOutput(str) {\n    var outputSpan = Elm('<span></span>');\n    outputSpan.innerText = str;\n\n    output.innerText = 'Output';\n    output.appendChild(outputSpan);\n  }\n\n  return { root: root, input: input, output: output, updateOutput: updateOutput };\n}\n\nfunction Elm(html) {\n  var div = document.createElement('div');\n  div.innerHTML = html;\n  return div.childNodes[0];\n}\n\nfunction evaluateInput(input, scope) {\n  var precision = 14;\n  var node = void 0,\n      evaluated = void 0,\n      output = void 0;\n  try {\n    node = math.parse(input);\n    try {\n      evaluated = node.eval(scope);\n    } catch (err) {\n      evaluated = math.simplify(node);\n    }\n  } catch (err) {\n    output = err.message;\n  }\n  scope._ = evaluated || '';\n  output = typeof evaluated === 'function' ? node.toString() : evaluated;\n  output = output === undefined ? '' : output;\n  switch (typeof output === 'undefined' ? 'undefined' : _typeof(output)) {\n    case 'object':\n      output = output.format ? output.format(precision) : output;\n      break;\n\n    case 'number':\n      ouput = math.format(output, precision);\n      break;\n\n    default:\n      // do nothing, may be function\n      break;\n  }\n  return output;\n}\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! ./../node_modules/webpack/buildin/global.js */ 38)))\n\n/***/ })\n\n},[146]);\n\n\n// WEBPACK FOOTER //\n// client.64afea77.js","const math = require('mathjs')\nconst { createStore } = require('redux')\nconst Vue = require('vue/dist/vue.common.js')\nconst VModal = require('vue-js-modal').default\n\nVue.use(VModal, { dialog: true })\n\nglobal.math = math\n\nconst initialState = {\n  steps: [],\n  focus: 0\n}\n\nfunction reducer (state = initialState, action) {\n  switch (action.type) {\n    case 'ADD STEP':\n      return Object.assign({}, state, {\n        steps: [...state.steps, ''],\n        focus: state.steps.length\n      })\n\n    case 'INSERT STEP':\n      return Object.assign({}, state, {\n        steps: [...state.steps.slice(0, action.num), '', ...state.steps.slice(action.num)]\n      })\n\n    case 'REMOVE STEP':\n      return Object.assign({}, state, {\n        steps: state.steps.filter((s, i) => i !== action.num)\n      })\n\n    case 'STEP INPUT':\n      return Object.assign({}, state, {\n        steps: [...state.steps.slice(0, action.num), action.input, ...state.steps.slice(action.num + 1)]\n      })\n\n    case 'FOCUS':\n      return Object.assign({}, state, { focus: action.num })\n\n    case 'FOCUS DECREMENT':\n      {  // add scope to allow `let f = ` inside several cases\n        let f = state.focus - 1\n        return Object.assign({}, state, {\n          focus: f > 0 ? f : 0\n        })\n      }\n\n    case 'FOCUS INCREMENT':\n      {\n        let f = state.focus + 1\n        return Object.assign({}, state, {\n          focus: f < state.steps.length ? f : state.focus\n        })\n      }\n\n    default:\n      return state\n  }\n}\n\nconst store = createStore(reducer)\nglobal.store = store\n\nlet _steps = []  // keep track of steps in DOM, TODO: react?\nstore.subscribe(() => {\n  let state = store.getState()\n\n  if (state.steps.length !== _steps.length) {\n    // inserted or added steps\n    // -> re-render all steps (we do not know if new step is inserted or added)\n    _steps = []\n    document.getElementById('steps').innerHTML = ''\n  }\n  state.steps.forEach((step, i) => {\n    let _step = _steps[i]\n\n    if (!_step) {\n      _step = Step(i, step)\n      _steps.push(_step)\n      document.getElementById('steps').appendChild(_step.root)\n    }\n\n    // calculate\n    // scope can be mutated in math.eval, the mutated scope is saved to current step\n    // first step: create new scope\n    // else: copy previous scope\n    _step.scope = i === 0 ? {} : Object.assign({}, _steps[i - 1].scope)\n    _step.updateOutput(evaluateInput(step, _step.scope))\n\n    if (state.focus === i && !_step.input.activeElement) {\n      _step.input.focus()\n    }\n  })\n})\n\nconst app = new Vue({\n  el: '#container',\n  methods: {\n    save: function () {\n      console.log('save')\n      this.$modal.show('dialog', {\n        text: 'save'\n      })\n    },\n    open: function () {\n      console.log('open')\n      this.$modal.show('dialog', {\n        text: 'open'\n      })\n    }\n  }\n})\n\nstore.dispatch({ type: 'ADD STEP' })\n\nfunction Step (num, inputValue) {\n  let root = Elm('<div class=step></div>')\n  let inputWithLabel = Elm(`<label>Input <input type=text></label>`)\n  let input = inputWithLabel.children[0]\n  let output = Elm(`<div class=output>Output</div>`)\n\n  input.value = inputValue\n\n  function keyDown (event) {\n    let kc = event.keyCode\n    // 9 tab, 13 enter, 38 up, 40 down\n    if (!(kc === 9 || kc === 13 || kc === 38 || kc === 40)) {\n      return\n    }\n\n    // tab on last field -> avoid address bar\n    // arrows -> avoid going to start/end of input field\n    event.preventDefault()\n\n    if (kc === 38 || (event.shiftKey && kc === 9)) {\n      // up or tab shift\n      store.dispatch({ type: 'FOCUS DECREMENT' })\n    } else if (kc === 13 && input.selectionStart === 0) {\n      // enter and marker in beginning of input field\n      // -> insert input and shift steps down\n      store.dispatch({ type: 'INSERT STEP', num })\n    } else if (kc === 13 && num === store.getState().steps.length - 1) {\n      // enter on last input\n      store.dispatch({ type: 'ADD STEP' })\n    } else if (kc === 9 || kc === 13 || kc === 40) {\n      // tab, enter or down\n      store.dispatch({ type: 'FOCUS INCREMENT' })\n    }\n  }\n\n  function onClick () {\n    store.dispatch({ type: 'FOCUS', num })\n  }\n\n  function keyUp (event) {\n    let wasEmpty = store.getState().steps[num] === ''\n\n    store.dispatch({\n      type: 'STEP INPUT',\n      input: input.value,\n      num\n    })\n\n    // 8 backspace, 46 delete\n    if (wasEmpty && (event.keyCode === 8 || event.keyCode === 46) && store.getState().steps.length !== 1) {\n      // no value and backspace/delete -> delete step\n      // must be on key up, or else erases character in newly focused field when key released (preventDefault gets nasty)\n      store.dispatch({ type: 'REMOVE STEP', num })\n      if (event.keyCode === 8  || store.getState().steps.length === num) {\n        // move focus one up on backspace\n        // keep focus same num on delete (focus to input below deleted input)\n        // if we are in last step and delete it, move focus one up\n        store.dispatch({ type: 'FOCUS DECREMENT' })\n      }\n    }\n  }\n\n  input.addEventListener('keydown', keyDown)\n  input.addEventListener('keyup', keyUp)\n  input.addEventListener('click', onClick)\n\n  root.appendChild(inputWithLabel)\n  root.appendChild(output)\n\n  function updateOutput (str) {\n    let outputSpan = Elm('<span></span>')\n    outputSpan.innerText = str\n\n    output.innerText = 'Output'\n    output.appendChild(outputSpan)\n  }\n\n  return { root, input, output, updateOutput }\n}\n\nfunction Elm (html) {\n  let div = document.createElement('div')\n  div.innerHTML = html\n  return div.childNodes[0]\n}\n\nfunction evaluateInput (input, scope) {\n  const precision = 14\n  let node, evaluated, output\n  try {\n    node = math.parse(input)\n    try {\n      evaluated = node.eval(scope)\n    } catch (err) {\n      evaluated = math.simplify(node)\n    }\n  } catch (err) {\n    output = err.message\n  }\n  scope._ = evaluated || ''\n  output = typeof evaluated === 'function' ? node.toString() : evaluated\n  output = output === undefined ? '' : output\n  switch (typeof output) {\n    case 'object':\n      output = output.format ? output.format(precision) : output\n      break;\n\n    case 'number':\n      ouput = math.format(output, precision)\n      break;\n\n    default:\n      // do nothing, may be function\n      break;\n  }\n  return output\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}