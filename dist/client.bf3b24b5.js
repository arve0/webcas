webpackJsonp([1],{142:function(t,e,n){t.exports=n(143)},143:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(144),o=n(145),i=n(535);n.n(i);new s.a({el:"#container",render:function(t){return t(o.a)}})},145:function(t,e,n){"use strict";function s(t){n(146)}var o=n(147),i=n(534),a=n(64),u=s,r=a(o.a,i.a,u,null,null);e.a=r.exports},146:function(t,e){},147:function(t,e,n){"use strict";function s(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var o=n(148),i=n.n(o),a=n(527),u=n(531),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.a={data:function(){var t={name:"",saveModal:!1,openModal:!1,noNameInput:!1,saves:[],steps:[{input:"",scope:{},i:0}],focus:0},e=void 0;try{e=Object.assign(t,JSON.parse(localStorage.getItem("default")))}catch(t){}return e||t},computed:{outputs:function(){var t=this;return this.steps.map(function(e,n){var s=t.steps[n-1];return e.scope=Object.assign({},s&&s.scope),t.evaluateInput(e)})}},components:{modal:a.a,"step-input":u.a},methods:{addStep:function(t){var e=0===t?{}:Object.assign({},this.steps[t-1].scope);this.steps=[].concat(s(this.steps.slice(0,t)),[{scope:e,i:t,input:""}],s(this.steps.slice(t))),this.steps.forEach(function(t,e){return t.i=e})},removeStep:function(t){this.steps.length>1&&(this.steps=this.steps.filter(function(e,n){return n!==t}),this.steps.forEach(function(t,e){return t.i=e}))},setFocus:function(t){var e=this.steps.length;this.focus=(t+e)%e},openSaveModal:function(){var t=this;this.saveModal=!0,setTimeout(function(){return t.$refs.saveNameInput.focus()},100)},erase:function(){this.steps=[{input:"",scope:{},i:0}],this.name="",this.rerender()},save:function(t){var e=this;if(!t||""===t)return this.noNameInput=!0,void setTimeout(function(){return e.noNameInput=!1},1e3);this.saveModal=!1,t="default"===t?t:"save:"+t,localStorage.setItem(t,JSON.stringify(this.$data)),this.getSaves()},open:function(t){t="default"===t?t:"save:"+t;var e=JSON.parse(localStorage.getItem(t));for(var n in e)"steps"===n&&e.steps.length&&"string"==typeof e.steps[0]?this[n]=e.steps.map(function(t,e){return{input:t,i:e,scope:{}}}):this[n]=e[n];this.openModal=!1,this.getSaves(),this.rerender()},getSaves:function(){this.saves=Object.keys(localStorage).filter(function(t){return t.match(/^save:/)}).map(function(t){return t.replace("save:","")})},removeSave:function(t){confirm('Delete "'+t+'"?')&&(localStorage.removeItem("save:"+t),this.saves=this.saves.filter(function(e){return e!==t}))},rerender:function(){var t=this.steps;this.steps=[],this.$nextTick(function(){this.steps=t})},keydown:function(t){this.$nextTick(function(){this.saveModal||this.save("default")}),(t.ctrlKey||t.metaKey)&&(83===t.keyCode?(t.preventDefault(),this.saveModal?this.save(this.name):this.openSaveModal()):79===t.keyCode&&(t.preventDefault(),this.openModal=!0))},evaluateInput:function(t){var e=t.input,n=t.scope,s=void 0,o=void 0,a=void 0;try{s=i.a.parse(e);try{o=s.eval(n)}catch(t){o=i.a.simplify(s)}}catch(t){o=t.message}switch(n._=void 0!==o?o:"",void 0===o?"undefined":r(o)){case"object":a=o.format?o.format(15):o.toString();break;case"number":a=i.a.format(o,15);break;case"function":a=s.toString();break;case"boolean":a=o.toString();break;default:a=o||""}return a}},mounted:function(){window.addEventListener("keydown",this.keydown),this.getSaves()},destroyed:function(){window.removeEventListener("keydown",this.keydown)}}},527:function(t,e,n){"use strict";function s(t){n(528)}var o=n(529),i=n(530),a=n(64),u=s,r=a(o.a,i.a,u,"data-v-1d138ba2",null);e.a=r.exports},528:function(t,e){},529:function(t,e,n){"use strict";e.a={methods:{keyup:function(t){13===t.keyCode&&this.$emit("button"),27===t.keyCode&&this.$emit("close")}},mounted:function(){window.addEventListener("keyup",this.keyup)},destroyed:function(){window.removeEventListener("keyup",this.keyup)}}},530:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"modal"}},[n("div",{staticClass:"modal-mask"},[n("div",{staticClass:"modal-wrapper",on:{click:function(e){if(e.target!==e.currentTarget)return null;t.$emit("close")}}},[n("div",{staticClass:"modal-container"},[n("div",{staticClass:"modal-header"},[n("h1",[t._t("title",[t._v("\n              default title\n            ")])],2)]),t._v(" "),n("div",{staticClass:"modal-body"},[t._t("body",[t._v("\n            default body\n          ")])],2),t._v(" "),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"modal-button",on:{click:function(e){t.$emit("button")}}},[t._t("button",[t._v("\n              Close\n            ")])],2)])])])])])},o=[],i={render:s,staticRenderFns:o};e.a=i},531:function(t,e,n){"use strict";var s=n(532),o=n(533),i=n(64),a=i(s.a,o.a,null,null,null);e.a=a.exports},532:function(t,e,n){"use strict";e.a={props:["value","i","last","focus","setFocus"],data:function(){return{input:this.value,empty:!1}},directives:{focus:function(t,e){e.value&&t.focus()}},mounted:function(){this.focus&&this.$refs.input.focus()},methods:{addStep:function(t){0===t.target.selectionStart?this.$emit("add",this.i):this.last?(this.$emit("add",this.i+1),this.$emit("focus",this.i+1)):this.$emit("focus",this.i+1)},removeStep:function(t){this.empty||""!==this.input?this.empty&&(this.$emit("remove",this.i),(46!==t.keyCode||this.last)&&this.$emit("focus",this.i-1)):this.empty=!0}}}},533:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",[t._v("Input\n  "),n("input",{directives:[{name:"focus",rawName:"v-focus",value:t.focus,expression:"focus"},{name:"model",rawName:"v-model",value:t.input,expression:"input"}],ref:"input",attrs:{type:"text"},domProps:{value:t.input},on:{input:[function(e){e.target.composing||(t.input=e.target.value)},function(e){t.$emit("input",e.target.value)}],keydown:[function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;e.preventDefault(),t.addStep(e)},function(e){if(!("button"in e)&&t._k(e.keyCode,"tab",9))return null;e.preventDefault(),t.setFocus(t.i+1)},function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40))return null;e.preventDefault(),t.setFocus(t.i+1)},function(e){return("button"in e||!t._k(e.keyCode,"tab",9))&&e.shiftKey?(e.preventDefault(),void t.setFocus(t.i-1)):null},function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38)&&t._k(e.keyCode,"tab",9))return null;e.preventDefault(),t.setFocus(t.i-1)}],keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"delete",[8,46]))return null;t.removeStep(e)},click:function(e){t.setFocus(t.i)}}})])},o=[],i={render:s,staticRenderFns:o};e.a=i},534:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("WebCAS")]),t._v(" "),n("div",{attrs:{id:"menu"}},[n("button",{on:{click:t.erase}},[n("img",{attrs:{src:"file.svg"}}),t._v(" New")]),t._v(" "),n("button",{on:{click:t.openSaveModal}},[n("img",{attrs:{src:"save.svg"}}),t._v(" Save")]),t._v(" "),n("button",{on:{click:function(e){t.openModal=!0}}},[n("img",{attrs:{src:"folder.svg"}}),t._v(" Open")])]),t._v(" "),n("div",{staticClass:"steps"},t._l(t.steps,function(e,s){return n("div",{key:e.i,staticClass:"step"},[n("step-input",{attrs:{i:e.i,focus:s===t.focus&&!t.saveModal,last:e.i===t.steps.length-1,setFocus:t.setFocus},on:{add:t.addStep,remove:t.removeStep,focus:t.setFocus},model:{value:e.input,callback:function(t){e.input=t},expression:"step.input"}}),t._v(" "),n("div",{staticClass:"output"},[t._v("Output "),n("span",[t._v(t._s(t.outputs[e.i]))])])],1)})),t._v(" "),t.saveModal?n("modal",{on:{close:function(e){t.saveModal=!1},button:function(e){t.save(t.name)}}},[n("span",{attrs:{slot:"title"},slot:"title"},[t._v("Save")]),t._v(" "),n("span",{attrs:{slot:"body"},slot:"body"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],ref:"saveNameInput",class:{bounce:t.noNameInput},attrs:{placeholder:"Input a name",type:"text"},domProps:{value:t.name},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.save(t.name)},input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),n("span",{attrs:{slot:"button"},slot:"button"},[t._v("Save")])]):t._e(),t._v(" "),t.openModal?n("modal",{on:{close:function(e){t.openModal=!1},button:function(e){t.openModal=!1}}},[n("span",{attrs:{slot:"title"},slot:"title"},[t._v("Open")]),t._v(" "),n("span",{attrs:{slot:"body"},slot:"body"},[0===t.saves.length?n("p",[t._v("No saves found.")]):t._e(),t._v(" "),n("ul",{staticClass:"openList"},t._l(t.saves,function(e){return n("li",{on:{click:function(n){if(n.target!==n.currentTarget)return null;t.open(e)}}},[t._v("\n          "+t._s(e)+"\n          "),n("img",{attrs:{src:"x.svg",title:"Delete"},on:{click:function(n){t.removeSave(e)}}})])}))])]):t._e()],1)},o=[],i={render:s,staticRenderFns:o};e.a=i},535:function(t,e){"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),s=1;s<arguments.length;s++){var o=arguments[s];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},writable:!0,configurable:!0})}},[142]);
//# sourceMappingURL=client.bf3b24b5.js.map